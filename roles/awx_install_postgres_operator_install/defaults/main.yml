---
# Run kubectl/helm from this node (must be a k3s SERVER)
pgo_runner_host: "{{ groups['k3s_servers'][0] }}"

# k3s kubeconfig on the server
pgo_kubeconfig_path: "/etc/rancher/k3s/k3s.yaml"

# Namespace where the operator runs
pgo_namespace: "postgres-operator"

# OCI chart reference (Crunchy PGO)
pgo_oci_chart_ref: "oci://registry.developers.crunchydata.com/crunchydata/pgo"

# Optional pin (recommended once you know what you want)
pgo_chart_version: ""   # e.g. "5.3.0"

# Optional Helm values dict
pgo_helm_values: {}

# Wait timeout for operator to come up
pgo_wait_timeout: "10m"

# ----------------------------
# Workers-only policy settings
# ----------------------------

# Which nodes are "workers" for PGO scheduling
# Adjust if your workers group is not k3s_agents
pgo_worker_nodes: "{{ groups['k3s_agents'] | default([]) }}"

# Label key/value used to target workers
pgo_worker_label_key: "node-role"
pgo_worker_label_value: "worker"

# Automatically label worker nodes
pgo_label_workers: true

# Enforce that PGO operator pods run only on workers
pgo_operator_workers_only: true